<?

include_once( './attrib_relations.php' );

$cur_wonder = 5;

$wonders = array(
	1 => array( 'Атлант', 4, 224, 10 ),
	2 => array( 'Источник', 5, 224, 10 ),
	4 => array( 'Фейерверк', 4, 224, 10 ),
	5 => array( 'Сад Камней', 5, 224, 10 ),
);

$wonder_res = array( // those are for stone garden
0 => array( 36 => 100, 479 => 100, 114 => 100, 122 => 100, 16 => 200, 26 => 50, 277 => 10, 1 => 100, 42 => 10, 112 => 30, 12866 => 30, -1 => 500, 0 => 5000 ),
1 => array( 36 => 250, 479 => 200, 114 => 200, 122 => 250, 115 => 200, 98 => 100, 87 => 200, 17 => 200, 27 => 50, 278 => 10, 1 => 200, 103 => 50, 105 => 10, 275 => 250, 113 => 50, 15835 => 20, -1 => 700, 0 => 10000 ),
2 => array( 36 => 500, 479 => 400, 114 => 300, 122 => 500, 115 => 300, 100 => 100, 101 => 100, 102 => 100, 87 => 100, 88 => 100, 19 => 200, 28 => 50, 1284 => 10, 1 => 300, 105 => 25, 45959 => 10, 14 => 100, 113 => 200, 43159 => 10, -1 => 1000, 0 => 15000 ),
3 => array( 36 => 750, 479 => 700, 114 => 400, 122 => 600, 115 => 400, 87 => 100, 89 => 100, 478 => 250, 20 => 100, 29 => 50, 8031 => 10, 1 => 500, 45959 => 20, 45971 => 10, 95 => 100, 14210 => 20, 45738 => 5, -1 => 1500, 0 => 20000 ),
4 => array( 36 => 1000, 479 => 900, 114 => 500, 115 => 500, 87 => 100, 90 => 100, 21 => 50, 30 => 20, 13973 => 10, 1 => 800, 2 => 1000, 45971 => 20, 45974 => 20, 45977 => 20, 45980 => 20, 14214 => 20, 14259 => 20, -1 => 2000, 0 => 30000 ),
5 => array( 36 => 1300, 479 => 1100, 114 => 600, 115 => 750, 87 => 100, 91 => 100, 22 => 50, 31 => 15, 13974 => 5, 1 => 1000, 3 => 1000, 45986 => 30, 45988 => 30, 1292 => 100, 235 => 10, 13040 => 10, 14262 => 30, -1 => 30000, 0 => 50000 ),
6 => array( 36 => 1800, 479 => 1300, 114 => 700, 115 => 1000, 87 => 200, 92 => 20, 274 => 100, 275 => 100, 276 => 350, 1 => 2500, 4 => 2000, 1295 => 75, 118 => 100, 235 => 15, 1602 => 30, 14263 => 50, 15832 => 40, 15829 => 40, -1 => 4000, 0 => 75000 ),
7 => array( 36 => 2500, 479 => 1500, 114 => 800, 115 => 1250, 87 => 200, 8032 => 100, 8034 => 100, 8035 => 300, 1 => 2000, 5 => 10000, 13971 => 40, 119 => 100, 8001 => 10, -1 => 5000, 0 => 100000 ),
8 => array( 36 => 3000, 479 => 2000, 114 => 900, 115 => 1500, 87 => 200, 41 => 40, 42 => 60, 103 => 40, 1 => 3000, 44604 => 50, 121 => 150, 44582 => 5, 43156 => 20, 44594 => 20, 44601 => 20, -1 => 5000, 0 => 150000 ),
9 => array( 36 => 4000, 479 => 2500, 114 => 1000, 115 => 2000, 87 => 500, 7 => 5000, 1 => 5000, 8 => 200, 45724 => 1, -1 => 7500, 0 => 300000 ),

/**/ 0
);

$wonder_res_4 = array( // those are for fireworks
0 => array( 36 => 100, 479 => 100, 114 => 100, 122 => 100, 16 => 200, 26 => 50, 277 => 10, 1 => 100, 42 => 10, 112 => 30, 12866 => 30, -1 => 500, 0 => 5000 ),
1 => array( 36 => 250, 479 => 200, 114 => 200, 122 => 250, 115 => 200, 98 => 100, 87 => 200, 17 => 200, 27 => 50, 278 => 10, 1 => 200, 42 => 50, 104 => 10, 276 => 250, 112 => 50, 15835 => 20, -1 => 700, 0 => 10000 ),
2 => array( 36 => 500, 479 => 400, 114 => 300, 122 => 500, 115 => 300, 100 => 100, 101 => 100, 102 => 100, 87 => 100, 88 => 100, 19 => 200, 28 => 50, 1284 => 10, 1 => 300, 104 => 25, 45958 => 10, 12 => 100, 112 => 200, 43159 => 10, -1 => 1000, 0 => 15000 ),
3 => array( 36 => 750, 479 => 700, 114 => 400, 122 => 600, 115 => 400, 87 => 100, 89 => 100, 478 => 250, 20 => 100, 29 => 50, 8031 => 10, 1 => 500, 45958 => 20, 45970 => 10, 93 => 100, 14211 => 20, 45738 => 5, -1 => 1500, 0 => 20000 ),
4 => array( 36 => 1000, 479 => 900, 114 => 500, 115 => 500, 87 => 100, 90 => 100, 21 => 50, 30 => 20, 13973 => 10, 1 => 800, 2 => 1000, 45970 => 20, 45973 => 20, 45976 => 20, 45979 => 20, 14215 => 20, 14259 => 20, -1 => 2000, 0 => 30000 ),
5 => array( 36 => 1300, 479 => 1100, 114 => 600, 115 => 750, 87 => 100, 91 => 100, 22 => 50, 31 => 15, 13974 => 5, 1 => 1000, 3 => 1000, 45987 => 30, 1293 => 100, 233 => 20, 13042 => 10, 14262 => 30, -1 => 30000, 0 => 50000 ),
6 => array( 36 => 1800, 479 => 1300, 114 => 700, 115 => 1000, 87 => 200, 92 => 20, 274 => 100, 275 => 100, 276 => 350, 1 => 2500, 4 => 2000, 1296 => 75, 118 => 100, 233 => 150, 1603 => 30, 14263 => 50, 15833 => 40, 15830 => 40, -1 => 4000, 0 => 75000 ),
7 => array( 36 => 2500, 479 => 1500, 114 => 800, 115 => 1250, 87 => 200, 8032 => 100, 8034 => 100, 8035 => 300, 1 => 2000, 5 => 10000, 13972 => 40, 119 => 100, 8002 => 10, -1 => 5000, 0 => 100000 ),
8 => array( 36 => 3000, 479 => 2000, 114 => 900, 115 => 1500, 87 => 200, 41 => 40, 42 => 60, 103 => 40, 1 => 3000, 44604 => 50, 121 => 150, 44584 => 5, 43157 => 20, 44595 => 20, 44601 => 20, -1 => 5000, 0 => 150000 ),
9 => array( 36 => 4000, 479 => 2500, 114 => 1000, 115 => 2000, 87 => 500, 7 => 5000, 1 => 5000, 8 => 200, 45725 => 1, -1 => 7500, 0 => 300000 ),

/**/ 0
);

$wonder_res_2 = array( // those are for source
0 => array( 36 => 100, 479 => 100, 114 => 100, 122 => 100, 16 => 200, 26 => 50, 277 => 10, 1 => 100, -1 => 200, 0 => 2000 ),
1 => array( 36 => 250, 479 => 200, 114 => 200, 122 => 250, 115 => 200, 98 => 100, 87 => 200, 17 => 200, 27 => 50, 278 => 10, 1 => 200, -1 => 400, 0 => 4000 ),
2 => array( 36 => 500, 479 => 400, 114 => 300, 122 => 500, 115 => 300, 100 => 100, 101 => 100, 102 => 100, 87 => 100, 88 => 100, 19 => 200, 28 => 50, 1284 => 10, 1 => 300, -1 => 600, 0 => 6000 ),
3 => array( 36 => 750, 479 => 700, 114 => 400, 122 => 600, 115 => 400, 87 => 100, 89 => 100, 478 => 250, 20 => 100, 29 => 50, 8031 => 10, 1 => 500, -1 => 700, 0 => 7000 ),
4 => array( 36 => 1000, 479 => 900, 114 => 500, 115 => 500, 87 => 100, 90 => 100, 21 => 50, 30 => 20, 13973 => 10, 1 => 800, 2 => 1000, -1 => 800, 0 => 8000 ),
5 => array( 36 => 1300, 479 => 1100, 114 => 600, 115 => 750, 87 => 100, 91 => 100, 22 => 50, 31 => 15, 13974 => 5, 1 => 1000, 3 => 1000, -1 => 1000, 0 => 10000 ),
6 => array( 36 => 1800, 479 => 1300, 114 => 700, 115 => 1000, 87 => 200, 92 => 20, 274 => 100, 275 => 100, 276 => 100, 1 => 1500, 4 => 2000, -1 => 1200, 0 => 12000 ),
7 => array( 36 => 2500, 479 => 1500, 114 => 800, 115 => 1250, 87 => 200, 8032 => 100, 8034 => 100, 8035 => 100, 1 => 2000, 5 => 10000, -1 => 1400, 0 => 15000 ),
8 => array( 36 => 3000, 479 => 2000, 114 => 900, 115 => 1500, 87 => 200, 41 => 40, 42 => 40, 103 => 40, 1 => 2500, -1 => 1500, 0 => 20000 ),
9 => array( 36 => 4000, 479 => 2500, 114 => 1000, 115 => 2000, 87 => 500, 7 => 5000, 1 => 5000, -1 => 2000, 0 => 100000 ),

/**/ 0
);

$wonder_res_1 = array( // those were for atlant
0 => array( 36 => 100, 479 => 100, 114 => 100, 122 => 100, 16 => 100, 26 => 25, 277 => 5, -1 => 200, 0 => 2000 ),
1 => array( 36 => 200, 479 => 200, 114 => 200, 122 => 200, 115 => 200, 98 => 100, 87 => 200, 17 => 100, 27 => 25, 278 => 5, -1 => 400, 0 => 4000 ),
2 => array( 36 => 300, 479 => 300, 114 => 300, 122 => 300, 115 => 300, 100 => 100, 101 => 100, 102 => 100, 87 => 100, 88 => 100, 19 => 20, 28 => 5, 1284 => 1, -1 => 600, 0 => 6000 ),
3 => array( 36 => 400, 479 => 400, 114 => 400, 122 => 400, 115 => 400, 87 => 100, 89 => 100, 478 => 250, 20 => 20, 29 => 5, 8031 => 1, -1 => 700, 0 => 7000 ),
4 => array( 36 => 500, 479 => 500, 114 => 500, 115 => 500, 87 => 100, 90 => 100, 21 => 20, 30 => 5, 13973 => 1, -1 => 800, 0 => 8000 ),
5 => array( 36 => 600, 479 => 600, 114 => 600, 115 => 600, 87 => 100, 91 => 100, 22 => 20, 31 => 5, 13974 => 1, -1 => 1000, 0 => 10000 ),
6 => array( 36 => 700, 479 => 700, 114 => 700, 115 => 700, 87 => 200, 92 => 100, 274 => 100, 275 => 100, 276 => 100, -1 => 1200, 0 => 12000 ),
7 => array( 36 => 800, 479 => 800, 114 => 800, 115 => 800, 87 => 200, 8032 => 100, 8034 => 100, 8035 => 100, -1 => 1400, 0 => 14000 ),
8 => array( 36 => 900, 479 => 900, 114 => 900, 115 => 900, 87 => 200, 41 => 40, 42 => 40, 103 => 40, -1 => 1500, 0 => 15000 ),
9 => array( 36 => 1000, 479 => 1000, 114 => 1000, 115 => 1000, 87 => 500, -1 => 2000, 0 => 20000 ),

/**/ 0
);

function isWonderNow( )
{
	global $cur_wonder;
	$val = (int)f_MValue( "SELECT count( clan_id ) FROM clan_wonders WHERE wonder_id=$cur_wonder AND stage=100" );
	if( $val > 0 ) return false;
	return true;
}

function applyWonder( $wonder_id, $player, $do = true )
{
	if( $wonder_id == 1 )
	{
		if( $do ) $player->AlterRealAttrib( 223, 10 );
		else $player->AlterRealAttrib( 223, -10 );
	}
	if( $wonder_id == 2 )
	{
		if( $do ) $player->AlterRealAttrib( 30, floor( ( $player->level + 2 ) / 6 ) );
		else $player->AlterRealAttrib( 30, -floor( ( $player->level + 2 ) / 6 ) );
	}
	if( $wonder_id == 4 )
	{
		if( $do ) $player->AlterRealAttrib( 50, floor( ( $player->level + 2 ) / 6 ) );
		else $player->AlterRealAttrib( 50, -floor( ( $player->level + 2 ) / 6 ) );
	}
	if( $wonder_id == 5 )
	{
		if( $do ) $player->AlterRealAttrib( 40, floor( ( $player->level + 2 ) / 6 ) );
		else $player->AlterRealAttrib( 40, -floor( ( $player->level + 2 ) / 6 ) );
	}
}

function applyWonderArr( $wonder_id, &$arr, $player, $do = true )
{
	global $attrib_rels;

	$add = 0;
	$attr = -1;
	if( $wonder_id == 1 )
	{
		$attr = 223;
		if( $do ) $add = 10;
		else $add = -10;
	}
	if( $wonder_id == 2 )
	{
		$attr = 30;
		if( $do ) $add = floor( ( $player->level + 2 ) / 6 );
		else $add = - floor( ( $player->level + 2 ) / 6 );
	}
	if( $wonder_id == 4 )
	{
		$attr = 50;
		if( $do ) $add = floor( ( $player->level + 2 ) / 6 );
		else $add = - floor( ( $player->level + 2 ) / 6 );
	}
	if( $wonder_id == 5 )
	{
		$attr = 40;
		if( $do ) $add = floor( ( $player->level + 2 ) / 6 );
		else $add = - floor( ( $player->level + 2 ) / 6 );
	}
	
	if( $attr != -1 )
	{
		$arr[$attr] += $add;
		if( isset( $attrib_rels[$attr] ) )
		{
			foreach( $attrib_rels[$attr] as $v )
			{
				$arr[$v] += $add;
			}
		}
	}
}

function checkTreeEffects($clan_id, $treelvl)
{

}

?>
